<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=' 最近使用虚拟机，不太理解虚拟机是如何网络连接的，因此研究一下\n虚拟机网络适配器详解 虚拟机网络适配器是虚拟机软件（如 VMware、VirtualBox、Hyper-V）中用于连接虚拟机和物理网络的虚拟硬件组件。它决定了虚拟机如何与宿主机、局域网或互联网通信。以下是关键知识点：\n一、网络适配器的核心作用 网络通信桥梁\n允许虚拟机访问外部网络（如互联网）或与宿主机/其他虚拟机交互。 协议支持\n支持 TCP/IP、DHCP、NAT 等协议，自动或手动分配 IP 地址。 隔离与共享\n可配置网络隔离（仅主机模式）或共享网络（NAT 模式）。 二、常见网络模式及适用场景 1. NAT（网络地址转换） 原理：\n虚拟机通过宿主机的 IP 地址共享上网，宿主机充当“中间人”，虚拟机对外不可见。 特点： 虚拟机自动获取 IP（通过 DHCP）。 宿主机防火墙可能影响虚拟机网络。 适用场景：日常上网、临时测试。 缺点：\n虚拟机无法被外部设备直接访问（如远程桌面）。 2. 桥接模式（Bridged） 原理：\n虚拟机直接连接到物理网络，与宿主机处于同一局域网，拥有独立 IP。 特点： 需手动或通过 DHCP 分配 IP。 虚拟机可被局域网内其他设备访问。 适用场景：开发测试、需要被外部访问的服务（如 Web 服务器）。 缺点：\n需确保局域网 IP 资源充足。 3. 仅主机模式（Host-Only） 原理：\n虚拟机与宿主机通过私有虚拟网络通信，无法访问外部网络。 特点： 宿主机和虚拟机间可双向通信。 隔离性强，安全性高。 适用场景：内部测试、敏感环境。 缺点：\n无互联网连接。 4. 内部网络（Internal Network） 原理：\n虚拟机之间通过专用网络通信，与宿主机及外部网络完全隔离。 特点： 仅支持虚拟机间通信。 需手动配置 IP。 适用场景：容器集群模拟、内部服务联调。 三、虚拟机网络适配器类型 类型 描述 Intel PRO/1000 MT 通用型适配器，兼容大多数场景（默认推荐）。 Intel PRO/1000 T Server 服务器专用，支持高负载。 Paravirtualized Network 高性能半虚拟化适配器（如 VMware 的 VMXNET3），需宿主机驱动支持。 四、常见问题与解决方法 1. 虚拟机无法联网 检查步骤： 确认网络适配器模式（如 NAT 是否启用）。 检查宿主机网络是否正常（如断网会导致虚拟机无法 NAT 上网）。 查看虚拟机内部 IP：ipconfig（Windows）或 ifconfig（Linux）。 测试宿主机与虚拟机间 Ping 通性。 2. 宿主机与虚拟机无法通信 桥接模式：确保两者在同一局域网子网。 仅主机模式：检查虚拟网络编辑器中的 DHCP 设置（如 VMware 的 Host-Only 网络）。 3. 外部设备无法访问虚拟机 需桥接模式 + 端口转发（如 NAT 模式下需配置端口映射）。 VirtualBox 示例： 1 VBoxManage modifyvm "VM名称" --natpf1 "ssh,tcp,,2222,,22" VMware 示例：\n编辑虚拟机设置 → NAT 设置 → 添加端口转发规则。 五、高级配置 1. 静态 IP 分配 Linux 虚拟机（桥接模式）：\n编辑 /etc/network/interfaces（Debian）或 /etc/sysconfig/network-scripts/ifcfg-eth0（RHEL）： 1 2 3 4 BOOTPROTO=static IPADDR=192.168.1.100 NETMASK=255.255.255.0 GATEWAY=192.168.1.1 2. 修改 MAC 地址 VMware：\n虚拟机设置 → 网络适配器 → 高级 → 生成或手动输入 MAC。 VirtualBox：\nVBoxManage modifyvm "VM名称" --macaddress1 auto（自动生成）。 六、虚拟机软件配置示例 VMware Workstation 打开虚拟机设置 → 网络适配器。 选择模式（如 NAT、桥接）。 高级选项中可调整适配器类型（推荐 VMXNET3）。 VirtualBox 设置 → 网络 → 启用网络适配器。 选择连接方式（如 NAT 网络、桥接到物理网卡）。 配置高级属性（混杂模式、MAC 地址）。 七、总结 NAT：简单上网，适合临时场景。 桥接：需外部访问虚拟机时首选。 仅主机：隔离环境测试。 内部网络：虚拟机集群通信。 故障排查：从网络模式、IP 分配、防火墙三方面入手。 '><title>虚拟机网络适配器</title><link rel=canonical href=https://crownjoker07.github.io/p/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="虚拟机网络适配器"><meta property='og:description' content=' 最近使用虚拟机，不太理解虚拟机是如何网络连接的，因此研究一下\n虚拟机网络适配器详解 虚拟机网络适配器是虚拟机软件（如 VMware、VirtualBox、Hyper-V）中用于连接虚拟机和物理网络的虚拟硬件组件。它决定了虚拟机如何与宿主机、局域网或互联网通信。以下是关键知识点：\n一、网络适配器的核心作用 网络通信桥梁\n允许虚拟机访问外部网络（如互联网）或与宿主机/其他虚拟机交互。 协议支持\n支持 TCP/IP、DHCP、NAT 等协议，自动或手动分配 IP 地址。 隔离与共享\n可配置网络隔离（仅主机模式）或共享网络（NAT 模式）。 二、常见网络模式及适用场景 1. NAT（网络地址转换） 原理：\n虚拟机通过宿主机的 IP 地址共享上网，宿主机充当“中间人”，虚拟机对外不可见。 特点： 虚拟机自动获取 IP（通过 DHCP）。 宿主机防火墙可能影响虚拟机网络。 适用场景：日常上网、临时测试。 缺点：\n虚拟机无法被外部设备直接访问（如远程桌面）。 2. 桥接模式（Bridged） 原理：\n虚拟机直接连接到物理网络，与宿主机处于同一局域网，拥有独立 IP。 特点： 需手动或通过 DHCP 分配 IP。 虚拟机可被局域网内其他设备访问。 适用场景：开发测试、需要被外部访问的服务（如 Web 服务器）。 缺点：\n需确保局域网 IP 资源充足。 3. 仅主机模式（Host-Only） 原理：\n虚拟机与宿主机通过私有虚拟网络通信，无法访问外部网络。 特点： 宿主机和虚拟机间可双向通信。 隔离性强，安全性高。 适用场景：内部测试、敏感环境。 缺点：\n无互联网连接。 4. 内部网络（Internal Network） 原理：\n虚拟机之间通过专用网络通信，与宿主机及外部网络完全隔离。 特点： 仅支持虚拟机间通信。 需手动配置 IP。 适用场景：容器集群模拟、内部服务联调。 三、虚拟机网络适配器类型 类型 描述 Intel PRO/1000 MT 通用型适配器，兼容大多数场景（默认推荐）。 Intel PRO/1000 T Server 服务器专用，支持高负载。 Paravirtualized Network 高性能半虚拟化适配器（如 VMware 的 VMXNET3），需宿主机驱动支持。 四、常见问题与解决方法 1. 虚拟机无法联网 检查步骤： 确认网络适配器模式（如 NAT 是否启用）。 检查宿主机网络是否正常（如断网会导致虚拟机无法 NAT 上网）。 查看虚拟机内部 IP：ipconfig（Windows）或 ifconfig（Linux）。 测试宿主机与虚拟机间 Ping 通性。 2. 宿主机与虚拟机无法通信 桥接模式：确保两者在同一局域网子网。 仅主机模式：检查虚拟网络编辑器中的 DHCP 设置（如 VMware 的 Host-Only 网络）。 3. 外部设备无法访问虚拟机 需桥接模式 + 端口转发（如 NAT 模式下需配置端口映射）。 VirtualBox 示例： 1 VBoxManage modifyvm "VM名称" --natpf1 "ssh,tcp,,2222,,22" VMware 示例：\n编辑虚拟机设置 → NAT 设置 → 添加端口转发规则。 五、高级配置 1. 静态 IP 分配 Linux 虚拟机（桥接模式）：\n编辑 /etc/network/interfaces（Debian）或 /etc/sysconfig/network-scripts/ifcfg-eth0（RHEL）： 1 2 3 4 BOOTPROTO=static IPADDR=192.168.1.100 NETMASK=255.255.255.0 GATEWAY=192.168.1.1 2. 修改 MAC 地址 VMware：\n虚拟机设置 → 网络适配器 → 高级 → 生成或手动输入 MAC。 VirtualBox：\nVBoxManage modifyvm "VM名称" --macaddress1 auto（自动生成）。 六、虚拟机软件配置示例 VMware Workstation 打开虚拟机设置 → 网络适配器。 选择模式（如 NAT、桥接）。 高级选项中可调整适配器类型（推荐 VMXNET3）。 VirtualBox 设置 → 网络 → 启用网络适配器。 选择连接方式（如 NAT 网络、桥接到物理网卡）。 配置高级属性（混杂模式、MAC 地址）。 七、总结 NAT：简单上网，适合临时场景。 桥接：需外部访问虚拟机时首选。 仅主机：隔离环境测试。 内部网络：虚拟机集群通信。 故障排查：从网络模式、IP 分配、防火墙三方面入手。 '><meta property='og:url' content='https://crownjoker07.github.io/p/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8/'><meta property='og:site_name' content='庄泽伟的博客'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2025-05-25T11:23:00+08:00'><meta property='article:modified_time' content='2025-05-25T11:23:00+08:00'><meta name=twitter:title content="虚拟机网络适配器"><meta name=twitter:description content=' 最近使用虚拟机，不太理解虚拟机是如何网络连接的，因此研究一下\n虚拟机网络适配器详解 虚拟机网络适配器是虚拟机软件（如 VMware、VirtualBox、Hyper-V）中用于连接虚拟机和物理网络的虚拟硬件组件。它决定了虚拟机如何与宿主机、局域网或互联网通信。以下是关键知识点：\n一、网络适配器的核心作用 网络通信桥梁\n允许虚拟机访问外部网络（如互联网）或与宿主机/其他虚拟机交互。 协议支持\n支持 TCP/IP、DHCP、NAT 等协议，自动或手动分配 IP 地址。 隔离与共享\n可配置网络隔离（仅主机模式）或共享网络（NAT 模式）。 二、常见网络模式及适用场景 1. NAT（网络地址转换） 原理：\n虚拟机通过宿主机的 IP 地址共享上网，宿主机充当“中间人”，虚拟机对外不可见。 特点： 虚拟机自动获取 IP（通过 DHCP）。 宿主机防火墙可能影响虚拟机网络。 适用场景：日常上网、临时测试。 缺点：\n虚拟机无法被外部设备直接访问（如远程桌面）。 2. 桥接模式（Bridged） 原理：\n虚拟机直接连接到物理网络，与宿主机处于同一局域网，拥有独立 IP。 特点： 需手动或通过 DHCP 分配 IP。 虚拟机可被局域网内其他设备访问。 适用场景：开发测试、需要被外部访问的服务（如 Web 服务器）。 缺点：\n需确保局域网 IP 资源充足。 3. 仅主机模式（Host-Only） 原理：\n虚拟机与宿主机通过私有虚拟网络通信，无法访问外部网络。 特点： 宿主机和虚拟机间可双向通信。 隔离性强，安全性高。 适用场景：内部测试、敏感环境。 缺点：\n无互联网连接。 4. 内部网络（Internal Network） 原理：\n虚拟机之间通过专用网络通信，与宿主机及外部网络完全隔离。 特点： 仅支持虚拟机间通信。 需手动配置 IP。 适用场景：容器集群模拟、内部服务联调。 三、虚拟机网络适配器类型 类型 描述 Intel PRO/1000 MT 通用型适配器，兼容大多数场景（默认推荐）。 Intel PRO/1000 T Server 服务器专用，支持高负载。 Paravirtualized Network 高性能半虚拟化适配器（如 VMware 的 VMXNET3），需宿主机驱动支持。 四、常见问题与解决方法 1. 虚拟机无法联网 检查步骤： 确认网络适配器模式（如 NAT 是否启用）。 检查宿主机网络是否正常（如断网会导致虚拟机无法 NAT 上网）。 查看虚拟机内部 IP：ipconfig（Windows）或 ifconfig（Linux）。 测试宿主机与虚拟机间 Ping 通性。 2. 宿主机与虚拟机无法通信 桥接模式：确保两者在同一局域网子网。 仅主机模式：检查虚拟网络编辑器中的 DHCP 设置（如 VMware 的 Host-Only 网络）。 3. 外部设备无法访问虚拟机 需桥接模式 + 端口转发（如 NAT 模式下需配置端口映射）。 VirtualBox 示例： 1 VBoxManage modifyvm "VM名称" --natpf1 "ssh,tcp,,2222,,22" VMware 示例：\n编辑虚拟机设置 → NAT 设置 → 添加端口转发规则。 五、高级配置 1. 静态 IP 分配 Linux 虚拟机（桥接模式）：\n编辑 /etc/network/interfaces（Debian）或 /etc/sysconfig/network-scripts/ifcfg-eth0（RHEL）： 1 2 3 4 BOOTPROTO=static IPADDR=192.168.1.100 NETMASK=255.255.255.0 GATEWAY=192.168.1.1 2. 修改 MAC 地址 VMware：\n虚拟机设置 → 网络适配器 → 高级 → 生成或手动输入 MAC。 VirtualBox：\nVBoxManage modifyvm "VM名称" --macaddress1 auto（自动生成）。 六、虚拟机软件配置示例 VMware Workstation 打开虚拟机设置 → 网络适配器。 选择模式（如 NAT、桥接）。 高级选项中可调整适配器类型（推荐 VMXNET3）。 VirtualBox 设置 → 网络 → 启用网络适配器。 选择连接方式（如 NAT 网络、桥接到物理网卡）。 配置高级属性（混杂模式、MAC 地址）。 七、总结 NAT：简单上网，适合临时场景。 桥接：需外部访问虚拟机时首选。 仅主机：隔离环境测试。 内部网络：虚拟机集群通信。 故障排查：从网络模式、IP 分配、防火墙三方面入手。 '><link rel="shortcut icon" href=/favicon/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c9cbf7fb784b760a.png width=300 height=299 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>😄</span></figure><div class=site-meta><h1 class=site-name><a href=/>庄泽伟的博客</a></h1><h2 class=site-description>一只乌鸦的自白</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/106612965 target=_blank title=Bilibili rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="800" height="800" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18.223 3.086a1.25 1.25.0 010 1.768L17.08 5.996h1.17A3.75 3.75.0 0122 9.747v7.5a3.75 3.75.0 01-3.75 3.75H5.75A3.75 3.75.0 012 17.247v-7.5a3.75 3.75.0 013.75-3.75h1.166L5.775 4.855a1.25 1.25.0 111.767-1.768l2.652 2.652c.079.079.145.165.198.257h3.213c.053-.092.12-.18.199-.258l2.651-2.652a1.25 1.25.0 011.768.0zm.027 5.42H5.75A1.25 1.25.0 004.503 9.663l-.003.094v7.5c0 .659.51 1.199 1.157 1.246l.093.004h12.5a1.25 1.25.0 001.247-1.157l.003-.093v-7.5c0-.69-.56-1.25-1.25-1.25zm-10 2.5c.69.0 1.25.56 1.25 1.25v1.25a1.25 1.25.0 11-2.5.0v-1.25c0-.69.56-1.25 1.25-1.25zm7.5.0c.69.0 1.25.56 1.25 1.25v1.25a1.25 1.25.0 11-2.5.0v-1.25c0-.69.56-1.25 1.25-1.25z"/></svg></a></li><li><a href=https://github.com/CrownJoker07 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>文章</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>项目</span></a></li><li><a href=/personal/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>个人</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#虚拟机网络适配器详解><strong>虚拟机网络适配器详解</strong></a></li><li><a href=#一网络适配器的核心作用><strong>一、网络适配器的核心作用</strong></a></li><li><a href=#二常见网络模式及适用场景><strong>二、常见网络模式及适用场景</strong></a><ol><li><a href=#1-nat网络地址转换><strong>1. NAT（网络地址转换）</strong></a></li><li><a href=#2-桥接模式bridged><strong>2. 桥接模式（Bridged）</strong></a></li><li><a href=#3-仅主机模式host-only><strong>3. 仅主机模式（Host-Only）</strong></a></li><li><a href=#4-内部网络internal-network><strong>4. 内部网络（Internal Network）</strong></a></li></ol></li><li><a href=#三虚拟机网络适配器类型><strong>三、虚拟机网络适配器类型</strong></a></li><li><a href=#四常见问题与解决方法><strong>四、常见问题与解决方法</strong></a><ol><li><a href=#1-虚拟机无法联网><strong>1. 虚拟机无法联网</strong></a></li><li><a href=#2-宿主机与虚拟机无法通信><strong>2. 宿主机与虚拟机无法通信</strong></a></li><li><a href=#3-外部设备无法访问虚拟机><strong>3. 外部设备无法访问虚拟机</strong></a></li></ol></li><li><a href=#五高级配置><strong>五、高级配置</strong></a><ol><li><a href=#1-静态-ip-分配><strong>1. 静态 IP 分配</strong></a></li><li><a href=#2-修改-mac-地址><strong>2. 修改 MAC 地址</strong></a></li></ol></li><li><a href=#六虚拟机软件配置示例><strong>六、虚拟机软件配置示例</strong></a><ol><li><a href=#vmware-workstation><strong>VMware Workstation</strong></a></li><li><a href=#virtualbox><strong>VirtualBox</strong></a></li></ol></li><li><a href=#七总结><strong>七、总结</strong></a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/network/>Network</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8/>虚拟机网络适配器</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 25, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 1 分钟</time></div></footer></div></header><section class=article-content><blockquote><p>最近使用虚拟机，不太理解虚拟机是如何网络连接的，因此研究一下</p></blockquote><hr><h3 id=虚拟机网络适配器详解><strong>虚拟机网络适配器详解</strong></h3><p>虚拟机网络适配器是虚拟机软件（如 VMware、VirtualBox、Hyper-V）中用于连接虚拟机和物理网络的虚拟硬件组件。它决定了虚拟机如何与宿主机、局域网或互联网通信。以下是关键知识点：</p><hr><h3 id=一网络适配器的核心作用><strong>一、网络适配器的核心作用</strong></h3><ol><li><strong>网络通信桥梁</strong><br>允许虚拟机访问外部网络（如互联网）或与宿主机/其他虚拟机交互。</li><li><strong>协议支持</strong><br>支持 TCP/IP、DHCP、NAT 等协议，自动或手动分配 IP 地址。</li><li><strong>隔离与共享</strong><br>可配置网络隔离（仅主机模式）或共享网络（NAT 模式）。</li></ol><hr><h3 id=二常见网络模式及适用场景><strong>二、常见网络模式及适用场景</strong></h3><h4 id=1-nat网络地址转换><strong>1. NAT（网络地址转换）</strong></h4><ul><li><strong>原理</strong>：<br>虚拟机通过宿主机的 IP 地址共享上网，宿主机充当“中间人”，虚拟机对外不可见。</li><li><strong>特点</strong>：<ul><li>虚拟机自动获取 IP（通过 DHCP）。</li><li>宿主机防火墙可能影响虚拟机网络。</li><li><strong>适用场景</strong>：日常上网、临时测试。</li></ul></li><li><strong>缺点</strong>：<br>虚拟机无法被外部设备直接访问（如远程桌面）。</li></ul><h4 id=2-桥接模式bridged><strong>2. 桥接模式（Bridged）</strong></h4><ul><li><strong>原理</strong>：<br>虚拟机直接连接到物理网络，与宿主机处于同一局域网，拥有独立 IP。</li><li><strong>特点</strong>：<ul><li>需手动或通过 DHCP 分配 IP。</li><li>虚拟机可被局域网内其他设备访问。</li><li><strong>适用场景</strong>：开发测试、需要被外部访问的服务（如 Web 服务器）。</li></ul></li><li><strong>缺点</strong>：<br>需确保局域网 IP 资源充足。</li></ul><h4 id=3-仅主机模式host-only><strong>3. 仅主机模式（Host-Only）</strong></h4><ul><li><strong>原理</strong>：<br>虚拟机与宿主机通过私有虚拟网络通信，无法访问外部网络。</li><li><strong>特点</strong>：<ul><li>宿主机和虚拟机间可双向通信。</li><li>隔离性强，安全性高。</li><li><strong>适用场景</strong>：内部测试、敏感环境。</li></ul></li><li><strong>缺点</strong>：<br>无互联网连接。</li></ul><h4 id=4-内部网络internal-network><strong>4. 内部网络（Internal Network）</strong></h4><ul><li><strong>原理</strong>：<br>虚拟机之间通过专用网络通信，与宿主机及外部网络完全隔离。</li><li><strong>特点</strong>：<ul><li>仅支持虚拟机间通信。</li><li>需手动配置 IP。</li><li><strong>适用场景</strong>：容器集群模拟、内部服务联调。</li></ul></li></ul><hr><h3 id=三虚拟机网络适配器类型><strong>三、虚拟机网络适配器类型</strong></h3><div class=table-wrapper><table><thead><tr><th><strong>类型</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>Intel PRO/1000 MT</strong></td><td>通用型适配器，兼容大多数场景（默认推荐）。</td></tr><tr><td><strong>Intel PRO/1000 T Server</strong></td><td>服务器专用，支持高负载。</td></tr><tr><td><strong>Paravirtualized Network</strong></td><td>高性能半虚拟化适配器（如 VMware 的 VMXNET3），需宿主机驱动支持。</td></tr></tbody></table></div><hr><h3 id=四常见问题与解决方法><strong>四、常见问题与解决方法</strong></h3><h4 id=1-虚拟机无法联网><strong>1. 虚拟机无法联网</strong></h4><ul><li><strong>检查步骤</strong>：<ol><li>确认网络适配器模式（如 NAT 是否启用）。</li><li>检查宿主机网络是否正常（如断网会导致虚拟机无法 NAT 上网）。</li><li>查看虚拟机内部 IP：<code>ipconfig</code>（Windows）或 <code>ifconfig</code>（Linux）。</li><li>测试宿主机与虚拟机间 Ping 通性。</li></ol></li></ul><h4 id=2-宿主机与虚拟机无法通信><strong>2. 宿主机与虚拟机无法通信</strong></h4><ul><li><strong>桥接模式</strong>：确保两者在同一局域网子网。</li><li><strong>仅主机模式</strong>：检查虚拟网络编辑器中的 DHCP 设置（如 VMware 的 Host-Only 网络）。</li></ul><h4 id=3-外部设备无法访问虚拟机><strong>3. 外部设备无法访问虚拟机</strong></h4><ul><li><strong>需桥接模式</strong> + <strong>端口转发</strong>（如 NAT 模式下需配置端口映射）。<ul><li><strong>VirtualBox 示例</strong>：<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>VBoxManage modifyvm <span class=s2>&#34;VM名称&#34;</span> --natpf1 <span class=s2>&#34;ssh,tcp,,2222,,22&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><strong>VMware 示例</strong>：<br>编辑虚拟机设置 → NAT 设置 → 添加端口转发规则。</li></ul></li></ul><hr><h3 id=五高级配置><strong>五、高级配置</strong></h3><h4 id=1-静态-ip-分配><strong>1. 静态 IP 分配</strong></h4><ul><li><strong>Linux 虚拟机（桥接模式）</strong>：<br>编辑 <code>/etc/network/interfaces</code>（Debian）或 <code>/etc/sysconfig/network-scripts/ifcfg-eth0</code>（RHEL）：<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>BOOTPROTO</span><span class=o>=</span>static
</span></span><span class=line><span class=cl><span class=nv>IPADDR</span><span class=o>=</span>192.168.1.100
</span></span><span class=line><span class=cl><span class=nv>NETMASK</span><span class=o>=</span>255.255.255.0
</span></span><span class=line><span class=cl><span class=nv>GATEWAY</span><span class=o>=</span>192.168.1.1
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=2-修改-mac-地址><strong>2. 修改 MAC 地址</strong></h4><ul><li><strong>VMware</strong>：<br>虚拟机设置 → 网络适配器 → 高级 → 生成或手动输入 MAC。</li><li><strong>VirtualBox</strong>：<br><code>VBoxManage modifyvm "VM名称" --macaddress1 auto</code>（自动生成）。</li></ul><hr><h3 id=六虚拟机软件配置示例><strong>六、虚拟机软件配置示例</strong></h3><h4 id=vmware-workstation><strong>VMware Workstation</strong></h4><ol><li>打开虚拟机设置 → 网络适配器。</li><li>选择模式（如 NAT、桥接）。</li><li>高级选项中可调整适配器类型（推荐 VMXNET3）。</li></ol><h4 id=virtualbox><strong>VirtualBox</strong></h4><ol><li>设置 → 网络 → 启用网络适配器。</li><li>选择连接方式（如 NAT 网络、桥接到物理网卡）。</li><li>配置高级属性（混杂模式、MAC 地址）。</li></ol><hr><h3 id=七总结><strong>七、总结</strong></h3><ul><li><strong>NAT</strong>：简单上网，适合临时场景。</li><li><strong>桥接</strong>：需外部访问虚拟机时首选。</li><li><strong>仅主机</strong>：隔离环境测试。</li><li><strong>内部网络</strong>：虚拟机集群通信。</li><li><strong>故障排查</strong>：从网络模式、IP 分配、防火墙三方面入手。</li></ul></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/%E6%8A%93%E5%8C%85/><div class=article-details><h2 class=article-title>抓包</h2></div></a></article><article><a href=/p/udp-vs.-tcp/><div class=article-details><h2 class=article-title>UDP vs. TCP</h2></div></a></article><article><a href=/p/%E6%B8%B8%E6%88%8F%E4%B8%AD%E7%9A%84%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B%E4%BB%8B%E7%BB%8D/><div class=article-details><h2 class=article-title>游戏中的网络模型介绍</h2></div></a></article><article><a href=/p/tls%E5%92%8Cssl%E4%BC%A0%E8%BE%93/><div class=article-details><h2 class=article-title>TLS和SSL传输</h2></div></a></article><article><a href=/p/%E4%BB%80%E4%B9%88%E6%98%AFssh%E4%BC%A0%E8%BE%93/><div class=article-details><h2 class=article-title>什么是SSH传输？</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=CrownJoker07/CrownJoker07.github.io issue-term=pathname label=Comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2025 ZhuangZewei</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>